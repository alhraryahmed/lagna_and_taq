<!DOCTYPE html>
<html>
<head>
  <title>PDF Editor</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
</head>

<body>
  <div>
    <button onclick="enableDraw()">âœï¸ ØªÙ‡Ù…ÙŠØ´</button>
    <button onclick="addText()">ğŸ“ ÙƒØªØ§Ø¨Ø©</button>
    <button onclick="savePDF()">ğŸ’¾ Ø­ÙØ¸</button>
  </div>

  <canvas id="canvas"></canvas>

<script>
const urlParams = new URLSearchParams(window.location.search);
const pdfUrl = urlParams.get('file');

const canvas = new fabric.Canvas('canvas');
canvas.isDrawingMode = false;

function enableDraw() {
  canvas.isDrawingMode = true;
}

function addText() {
  canvas.add(new fabric.IText('Ø§ÙƒØªØ¨ Ù‡Ù†Ø§', {
    left: 100,
    top: 100,
    fill: 'black'
  }));
}

function savePDF() {
  const dataURL = canvas.toDataURL({
    format: 'png'
  });

  const a = document.createElement('a');
  a.href = dataURL;
  a.download = 'pdf_signed.png';
  a.click();
}
</script>
</body>
</html>
